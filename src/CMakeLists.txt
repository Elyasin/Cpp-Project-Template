# MyLib Target
set(LIBRARY_INCLUDE_DIR "${PROJECT_SOURCE_DIR}/include")
set(LIBRARY_SOURCES     "my_lib.cc")
set(LIBRARY_HEADERS     "${LIBRARY_INCLUDE_DIR}/my_lib.h")
add_library(${LIBRARY_NAME} STATIC ${LIBRARY_SOURCES} ${LIBRARY_HEADERS})
target_include_directories(${LIBRARY_NAME} PUBLIC  
                           $<BUILD_INTERFACE:${LIBRARY_INCLUDE_DIR}>  
                           $<INSTALL_INTERFACE:${CMAKE_INSTALL_PREFIX}>)
target_link_libraries(${LIBRARY_NAME} PUBLIC ${LIBRARY_LINALG})
target_link_libraries(${LIBRARY_NAME} PUBLIC ${LIBRARY_LOG})
target_compile_features(${LIBRARY_NAME} PUBLIC cxx_std_17)
target_set_warnings(TARGET ${LIBRARY_NAME} ENABLE ON AS_ERROR OFF)

# MyLib Install
install(TARGETS ${LIBRARY_NAME}
        EXPORT ${EXPORT_NAME} 
        RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX}/bin
        LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib
        ARCHIVE DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/static)
install(DIRECTORY ${LIBRARY_INCLUDE_DIR} 
        DESTINATION ${CMAKE_INSTALL_PREFIX})
